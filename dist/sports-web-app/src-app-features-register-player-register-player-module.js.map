{"version":3,"sources":["./src/app/core/validators/birthdate.validators.ts","./src/app/features/register-player/register-player.component.ts","./src/app/features/register-player/register-player.component.html","./src/app/features/register-player/register-player.module.ts","./src/app/features/register-player/register-player.routing.ts"],"names":[],"mappings":";;;;;;;;;;AAEA;AAAA;AAAA;;;;GAIG;AACI,SAAS,kBAAkB,CAAC,OAAwB;IACvD,IAAI,KAAK,GAAG,OAAO,CAAC,KAAK,CAAC;IAC1B,IAAI,KAAK,GAAG,IAAI,IAAI,EAAE,CAAC;IACvB,IAAI,SAAS,GAAG,IAAI,IAAI,CAAC,KAAK,CAAC,CAAC;IAChC,IAAI,GAAG,GAAG,KAAK,CAAC,WAAW,EAAE,GAAG,SAAS,CAAC,WAAW,EAAE,CAAC;IACxD,IAAI,GAAG,GAAG,EAAE,CAAC;IACb,IAAI,GAAG,GAAG,GAAG,GAAG,CAAC,EAAE;QACf,OAAO,IAAI,CAAC;KACf;IACD,IAAI,CAAC,GAAG,KAAK,CAAC,QAAQ,EAAE,GAAG,SAAS,CAAC,QAAQ,EAAE,CAAC;IAChD,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,KAAK,CAAC,IAAI,KAAK,CAAC,OAAO,EAAE,GAAG,SAAS,CAAC,OAAO,EAAE,CAAC,EAAE;QAC7D,GAAG,EAAE,CAAC;KACT;IACD,IAAI,MAAM,GAAG,GAAG,IAAI,GAAG,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,kBAAkB,EAAE,IAAI,EAAE,CAAC;IAC9D,OAAO,MAAM,CAAC;AAClB,CAAC;;;;;;;;;;;;;ACtBD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAkD;AACT;AACwC;AACd;AACe;AACJ;AACnB;;;;;;;;;;;;;ICQ7C,2EACqE;;;IAFvE,yEACE;IAAA,uIACyD;IAC3D,4DAAM;;;IADF,0DAAsD;IAAtD,uHAAsD;;;IAUxD,2EACyE;;;IACzE,2EAC2E;;;IAJ7E,yEACE;IAAA,uIAC6D;IAC7D,uIAC+D;IACjE,4DAAM;;;IAHF,0DAA0D;IAA1D,2HAA0D;IAE1D,0DAA4D;IAA5D,4HAA4D;;;IAU9D,2EACwE;;;IACxE,2EACY;;;IAJd,yEACE;IAAA,uIAC4D;IAC5D,uIACA;IACF,4DAAM;;;IAHF,0DAAyD;IAAzD,0HAAyD;IACP,0DAAsD;IAAtD,uHAAsD;;;IAO1G,2EAC0E;;;IAC1E,2EACkF;;;IAJpF,yEACE;IAAA,uIAC8D;IAC9D,uIACsE;IACxE,4DAAM;;;IAHF,0DAA2D;IAA3D,4HAA2D;IAE3D,0DAAmE;IAAnE,oIAAmE;;ADpCnF;;;;;;GAMG;AACI,MAAM,uBAAuB;IAYlC,YAAoB,aAAgC,EAAU,MAAc,EAAU,EAAe,EAAU,YAA0B;QAArH,kBAAa,GAAb,aAAa,CAAmB;QAAU,WAAM,GAAN,MAAM,CAAQ;QAAU,OAAE,GAAF,EAAE,CAAa;QAAU,iBAAY,GAAZ,YAAY,CAAc;IAAI,CAAC;IAE9I,QAAQ;QACN,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,EAAE,CAAC,KAAK,CAAC;YAC9B,MAAM,EAAE,IAAI,0DAAW,CAAC,EAAE,EAAE,yDAAU,CAAC,QAAQ,CAAC;YAChD,UAAU,EAAE,IAAI,0DAAW,CAAC,EAAE,EAAE,yDAAU,CAAC,OAAO,CAAC,CAAC,yDAAU,CAAC,QAAQ,EAAE,yDAAU,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;YACnG,SAAS,EAAE,IAAI,0DAAW,CAAC,EAAE,EAAE,CAAC,yDAAU,CAAC,QAAQ,EAAE,yDAAU,CAAC,KAAK,CAAC,CAAC;YACvE,WAAW,EAAE,IAAI,0DAAW,CAAC,EAAE,EAAE,CAAC,yDAAU,CAAC,QAAQ,EAAE,+FAAkB,CAAC,CAAC;SAC5E,CAAC,CAAC;QAEH,IAAI,CAAC,OAAO,GAAG,wEAAW,CAAC,OAAO,CAAC;IACrC,CAAC;IAED,qBAAqB;QACnB,IAAI,YAAY,GAAY,IAAI,CAAC,aAAa,CAAC,SAAS,CAAC,IAAI,CAAC,UAAU,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC,KAAK,EAC7F,IAAI,CAAC,UAAU,CAAC,QAAQ,CAAC,UAAU,CAAC,CAAC,KAAK,EAC1C,IAAI,CAAC,UAAU,CAAC,QAAQ,CAAC,SAAS,CAAC,CAAC,KAAK,EACzC,IAAI,CAAC,UAAU,CAAC,QAAQ,CAAC,WAAW,CAAC,CAAC,KAAK,CAAC,CAAC;QAC/C,IAAI,YAAY,EAAE;YAChB,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC;YACjC,IAAI,CAAC,YAAY,CAAC,SAAS,CAAC,SAAS,EAAE,EAAE,EAAE,oBAAoB,CAAC;SACjE;IACH,CAAC;IAED,gBAAgB;QACd,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC;IACnC,CAAC;;8FAtCU,uBAAuB;uGAAvB,uBAAuB;QCrBpC,yEACE;QAAA,yEACE;QAAA,yEACE;QAAA,0EACE;QAD6B,mJAAY,2BAAuB,IAAC;QACjE,6EACE;QAAA,yEACE;QAAA,yEACE;QAAA,yEACE;QAAA,0EAAkC;QAAA,kEAA0B;QAAA,4DAAO;QACnE,wEAEF;QAAA,4DAAM;QACR,4DAAM;QACN,sHACE;QAGF,0EACE;QAAA,0EACE;QAAA,2EAAkC;QAAA,oEAAyB;QAAA,4DAAO;QAClE,wEAEF;QAAA,4DAAM;QACR,4DAAM;QACN,sHACE;QAKF,0EACE;QAAA,0EACE;QAAA,2EAAkC;QAAA,oEAAwB;QAAA,4DAAO;QACjE,wEAEF;QAAA,4DAAM;QACR,4DAAM;QACN,sHACE;QAKF,0EACE;QAAA,6EAA8F;QAChG,4DAAM;QACN,sHACE;QAKJ,4DAAM;QACN,2EACE;QAAA,2EACE;QAAA,8EAC6C;QAA3C,gJAAS,2BAAuB,IAAC;QAAC,4DAAS;QAC/C,4DAAM;QACN,2EACE;QAAA,8EACwC;QAAtC,gJAAS,sBAAkB,IAAC;QAAC,4DAAS;QAC1C,4DAAM;QACR,4DAAM;QACR,4DAAU;QACZ,4DAAO;QACT,4DAAM;QACR,4DAAM;QACR,4DAAM;;QAhEM,0DAAwB;QAAxB,qFAAwB;QAUF,0DAA+E;QAA/E,iJAA+E;QAW/E,0DAAuF;QAAvF,yJAAuF;QAavF,0DAAqF;QAArF,uJAAqF;QAOxC,0DAAe;QAAf,0EAAe;QAE5D,0DAAyF;QAAzF,2JAAyF;QASrC,0DAA8B;QAA9B,2FAA8B;;6FDlCvG,uBAAuB;cAbnC,uDAAS;eAAC;gBACT,QAAQ,EAAE,qBAAqB;gBAC/B,WAAW,EAAE,gCAAgC;gBAC7C,SAAS,EAAE,CAAC,+BAA+B,CAAC;aAC7C;;;;;;;;;;;;;;AEZD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAyC;AACM;AACsD;AACE;AAC3C;;AAUrD,MAAM,oBAAoB;;mGAApB,oBAAoB;kKAApB,oBAAoB,kBAPtB;YACP,4DAAY;YACZ,oHAA2B;YAC3B,yEAAe;SAChB;mIAGU,oBAAoB,mBAFhB,kHAAuB,aAJpC,4DAAY;QACZ,oHAA2B;QAC3B,yEAAe;6FAIN,oBAAoB;cARhC,sDAAQ;eAAC;gBACR,OAAO,EAAE;oBACP,4DAAY;oBACZ,oHAA2B;oBAC3B,yEAAe;iBAChB;gBACD,YAAY,EAAE,CAAC,kHAAuB,CAAC;aACxC;;;;;;;;;;;;;;ACbD;AAAA;AAAA;AAAA;AAAA;AAAyC;AACc;AAC8C;;;AAGrG,MAAM,MAAM,GAAW;IACnB;QACI,IAAI,EAAE,EAAE;QACR,SAAS,EAAE,kHAAuB;KACrC;CACJ,CAAC;AAMK,MAAM,2BAA2B;;0GAA3B,2BAA2B;gLAA3B,2BAA2B,kBAH3B,CAAC,4DAAY,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC;QAC9B,4DAAY;mIAEb,2BAA2B,uFAF1B,4DAAY;6FAEb,2BAA2B;cAJvC,sDAAQ;eAAC;gBACN,OAAO,EAAE,CAAC,4DAAY,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC;gBACxC,OAAO,EAAE,CAAC,4DAAY,CAAC;aAC1B","file":"src-app-features-register-player-register-player-module.js","sourcesContent":["import { AbstractControl } from '@angular/forms';\n\n/**\n * validation function\n * birth date should be less than 10 years\n * @param control \n */\nexport function birthDateValidator(control: AbstractControl) {\n    var value = control.value;\n    var today = new Date();\n    var birthDate = new Date(value);\n    var age = today.getFullYear() - birthDate.getFullYear();\n    var min = 10;\n    if (age > min + 1) {\n        return null;\n    }\n    var m = today.getMonth() - birthDate.getMonth();\n    if (m < 0 || (m === 0 && today.getDate() < birthDate.getDate())) {\n        age--;\n    }\n    var reuslt = age >= min ? null : { 'invalidBirthDate': true };\n    return reuslt;\n}","import { Component, OnInit } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { Validators, FormControl, FormGroup, FormBuilder } from '@angular/forms';\nimport { ToastService } from 'src/app/core/services/toast.service';\nimport { birthDateValidator } from 'src/app/core/validators/birthdate.validators';\nimport { PlayerDataService } from 'src/app/core/services/player-data.service';\nimport { environment } from 'src/environments/environment';\n\n@Component({\n  selector: 'app-register-player',\n  templateUrl: 'register-player.component.html',\n  styleUrls: ['register-player.component.css']\n})\n\n/**\n * Register player component class\n *\n * @author Francisco Franco\n * @version %I%, %G%\n * @since 1.0\n */\nexport class RegisterPlayerComponent implements OnInit {\n\n  playerform: FormGroup;\n\n  name: string;\n\n  emailId: string;\n\n  password: string;\n\n  version: string;\n\n  constructor(private playerService: PlayerDataService, private router: Router, private fb: FormBuilder, private toastService: ToastService) { }\n\n  ngOnInit() {\n    this.playerform = this.fb.group({\n      'name': new FormControl('', Validators.required),\n      'password': new FormControl('', Validators.compose([Validators.required, Validators.minLength(6)])),\n      'emailId': new FormControl('', [Validators.required, Validators.email]),\n      'birthDate': new FormControl('', [Validators.required, birthDateValidator])\n    });\n\n    this.version = environment.version;\n  }\n\n  onClickRegisterPlayer() {\n    let isRegistered: boolean = this.playerService.addPlayer(this.playerform.controls[\"name\"].value,\n      this.playerform.controls[\"password\"].value,\n      this.playerform.controls[\"emailId\"].value,\n      this.playerform.controls[\"birthDate\"].value);\n    if (isRegistered) {\n      this.router.navigate(['/login']);\n      this.toastService.addSingle(\"success\", \"\", \"Player registered.\")\n    }\n  }\n\n  onClickGoToLogin() {\n    this.router.navigate(['/login']);\n  }\n\n}\n\n","<div class=\"user-regisration\">\n  <div class=\"p-grid p-nogutter p-justify-center p-align-center\" style=\"height:100%\">\n    <div class=\"p-xl-3 p-lg-6 p-md-8 p-sm-10\">\n      <form [formGroup]=\"playerform\" (ngSubmit)=\"onClickRegisterPlayer()\">\n        <p-panel header=\"Player Registration\">\n          <div class=\"p-grid p-justify-center p-align-center\">\n            <div class=\"p-col-12\">\n              <div class=\"ui-inputgroup\">\n                <span class=\"ui-inputgroup-addon\"><i class=\"fa fa-user\"></i></span>\n                <input id=\"float-input-playername\" type=\"text\" size=\"30\" pInputText formControlName=\"name\"\n                  placeholder=\"player name\" required>\n              </div>\n            </div>\n            <div class=\"p-col-12\" *ngIf=\"playerform.controls['name'].errors && playerform.controls['name'].dirty\">\n              <p-message severity=\"error\" text=\"Player name is required\"\n                *ngIf=\"playerform.controls['name'].errors['required']\"></p-message>\n            </div>\n            <div class=\"p-col-12\">\n              <div class=\"ui-inputgroup\">\n                <span class=\"ui-inputgroup-addon\"><i class=\"fa fa-key\"></i></span>\n                <input id=\"float-input-password\" type=\"password\" size=\"30\" pInputText formControlName=\"password\"\n                  placeholder=\"password\" required>\n              </div>\n            </div>\n            <div class=\"p-col-12\" *ngIf=\"playerform.controls['password'].errors && playerform.controls['password'].dirty\">\n              <p-message severity=\"error\" text=\"Password is required\"\n                *ngIf=\"playerform.controls['password'].errors['required']\"></p-message>\n              <p-message severity=\"error\" text=\"Minimum 6 characters required.\"\n                *ngIf=\"playerform.controls['password'].errors['minlength'] \"></p-message>\n            </div>\n            <div class=\"p-col-12\">\n              <div class=\"ui-inputgroup\">\n                <span class=\"ui-inputgroup-addon\"><i class=\"fa fa-at\"></i></span>\n                <input id=\"float-input-emailid\" type=\"email\" size=\"30\" pInputText formControlName=\"emailId\"\n                  placeholder=\"Email Id\" required>\n              </div>\n            </div>\n            <div class=\"p-col-12\" *ngIf=\"playerform.controls['emailId'].errors && playerform.controls['emailId'].dirty\">\n              <p-message severity=\"error\" text=\"Email is required\"\n                *ngIf=\"playerform.controls['emailId'].errors['required']\"></p-message>\n              <p-message severity=\"error\" text=\"Email is invalid\" *ngIf=\"playerform.controls['emailId'].errors['email']\">\n              </p-message>\n            </div>\n            <div class=\"p-col-12\">\n              <p-calendar formControlName=\"birthDate\" placeholder=\"Birth date\" [showIcon]=true></p-calendar>\n            </div>\n            <div class=\"p-col-12\" *ngIf=\"playerform.controls['birthDate'].errors && playerform.controls['birthDate'].dirty\">\n              <p-message severity=\"error\" text=\"Birthdate is required\"\n                *ngIf=\"playerform.controls['birthDate'].errors['required']\"></p-message>\n              <p-message severity=\"error\" text=\"Minimum age should be 10 years.\"\n                *ngIf=\"playerform.controls['birthDate'].errors['invalidBirthDate']\"></p-message>\n            </div>\n          </div>\n          <div class=\"p-grid\">\n            <div class=\"p-col-6\">\n              <button pButton type=\"button\" label=\"Register\" class=\"ui-button-raised\" [disabled]=\"!playerform.valid\"\n                (click)=\"onClickRegisterPlayer()\"></button>\n            </div>\n            <div class=\"p-col-6\">\n              <button pButton type=\"button\" label=\"Login\" class=\"ui-button-raised\"\n                (click)=\"onClickGoToLogin()\"></button>\n            </div>\n          </div>\n        </p-panel>\n      </form>\n    </div>\n  </div>\n</div>","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { RegisterPlayerComponent } from 'src/app/features/register-player/register-player.component';\nimport { RegisterPlayerRoutingModule } from 'src/app/features/register-player/register-player.routing';\nimport { AppCommonModule } from 'src/app/app.common.module';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    RegisterPlayerRoutingModule,\n    AppCommonModule\n  ],\n  declarations: [RegisterPlayerComponent]\n})\nexport class RegisterPlayerModule { }","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\nimport { RegisterPlayerComponent } from 'src/app/features/register-player/register-player.component';\n\n\nconst routes: Routes = [\n    {\n        path: '',\n        component: RegisterPlayerComponent\n    }\n];\n\n@NgModule({\n    imports: [RouterModule.forChild(routes)],\n    exports: [RouterModule]\n})\nexport class RegisterPlayerRoutingModule { }"],"sourceRoot":"webpack:///"}